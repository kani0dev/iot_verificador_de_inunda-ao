(()=>{"use strict";var e={8357:(e,t,a)=>{var n=a(1396),r=a(467),i=a(296),o=a(5382),l=a(3701),d=a(6283),u=a(3929),f=a(9685),s=a(3093),c=a(6665),h=a(397);function m(e){var t=e.distancia,a=e.umidade,n=parseFloat(t),r=parseFloat(a),i="\u2713 Sistema Seguro",o="",l=p.ok;return isNaN(r)||isNaN(n)||(r>90&&n<10?(i="\u26a0 INUNDA\xc7\xc3O DETECTADA!",o="A \xe1gua est\xe1 muito pr\xf3xima do sensor! ATEN\xc7\xc3O!",l=p.perigo):r>60&&n>=10?(i="\ud83c\udf27 Chovendo",o="Chuva detectada, mas sem risco de inunda\xe7\xe3o.",l=p.normal):r>=50&&r<=60&&(i="\u2601 Sem chuva",o="Nenhuma chuva detectada atualmente.",l=p.normal)),(0,h.jsxs)(u.default,{style:[p.card,l],children:[(0,h.jsx)(d.default,{style:p.title,children:i}),(0,h.jsxs)(d.default,{style:p.info,children:["Dist\xe2ncia: ",t," cm"]}),(0,h.jsxs)(d.default,{style:p.info,children:["Umidade: ",a,"%"]}),""!==o&&(0,h.jsx)(d.default,{style:p.msg,children:o})]})}var p=l.default.create({card:{padding:20,borderRadius:12,marginTop:20,elevation:4},ok:{backgroundColor:"#4CAF50"},normal:{backgroundColor:"#1E88E5"},perigo:{backgroundColor:"#ff4d4d"},title:{fontSize:18,fontWeight:"bold",color:"#fff",marginBottom:10,textAlign:"center"},info:{fontSize:16,color:"#fff",textAlign:"center"},msg:{marginTop:10,fontSize:14,color:"#fff",fontWeight:"600",textAlign:"center"}}),g="kani0dev",v="aio_ePLU82oOVU5AKuKRVkITAxgikJzK",y="distanciachuva",b="umidade";var x=l.default.create({container:{flex:1,backgroundColor:"#f5f5f5",paddingTop:60,paddingHorizontal:20},title:{fontSize:22,fontWeight:"bold",marginBottom:20,textAlign:"center"},card:{backgroundColor:"#fff",padding:20,borderRadius:12,marginBottom:20,elevation:4},label:{fontSize:16,fontWeight:"600"},value:{fontSize:30,fontWeight:"bold",marginTop:10},button:{backgroundColor:"#007bff",padding:14,borderRadius:10,alignItems:"center",marginBottom:20},buttonText:{color:"#fff",fontSize:16,fontWeight:"700"},list:{marginTop:10},item:{backgroundColor:"#fff",padding:12,borderRadius:10,marginBottom:10,elevation:2},itemText:{fontSize:16}});(0,n.default)(function(){var e=(0,c.useState)("--"),t=(0,i.default)(e,2),a=t[0],n=t[1],l=(0,c.useState)("--"),p=(0,i.default)(l,2),j=p[0],S=p[1],k=(0,c.useState)([]),O=(0,i.default)(k,2),T=O[0],A=O[1],C=(0,c.useState)(!1),w=(0,i.default)(C,2),z=w[0],E=w[1];function I(e){return N.apply(this,arguments)}function N(){return(N=(0,r.default)(function*(e){var t,a=yield fetch(`https://io.adafruit.com/api/v2/${g}/feeds/${e}/data?limit=10`,{headers:{"X-AIO-Key":v}});return(null==(t=(yield a.json())[0])?void 0:t.value)||"--"})).apply(this,arguments)}function D(e){return U.apply(this,arguments)}function U(){return(U=(0,r.default)(function*(e){var t=yield fetch(`https://io.adafruit.com/api/v2/${g}/feeds/${e}/data?limit=10`,{headers:{"X-AIO-Key":v}});return yield t.json()})).apply(this,arguments)}function B(){return P.apply(this,arguments)}function P(){return(P=(0,r.default)(function*(){var e=yield I(y),t=yield I(b);n(e),S(t)})).apply(this,arguments)}function W(){return _.apply(this,arguments)}function _(){return(_=(0,r.default)(function*(){var e=yield D(y),t=yield D(b),a=e.map(function(e,a){return{distancia:e.value,umidade:t[a]?t[a].value:"--",horario:e.created_at.substring(11,19),id:e.id}});console.log(a),A(a)})).apply(this,arguments)}return(0,c.useEffect)(function(){B(),W();var e=setInterval(function(){B(),W()},5e3);return function(){return clearInterval(e)}},[]),(0,h.jsxs)(u.default,{style:x.container,children:[(0,h.jsx)(m,{distancia:a,umidade:j}),(0,h.jsx)(d.default,{style:x.title,children:"Monitoramento \u2014 Dist\xe2ncia + Umidade"}),(0,h.jsxs)(u.default,{style:x.card,children:[(0,h.jsx)(d.default,{style:x.label,children:"Dist\xe2ncia atual (cm):"}),(0,h.jsx)(d.default,{style:x.value,children:a}),(0,h.jsx)(d.default,{style:x.label,children:"Umidade atual (%):"}),(0,h.jsx)(d.default,{style:x.value,children:j})]}),(0,h.jsx)(f.default,{style:x.button,onPress:function(){return E(!z)},children:(0,h.jsx)(d.default,{style:x.buttonText,children:z?"Esconder Hist\xf3rico":"Mostrar Hist\xf3rico"})}),z&&(0,h.jsx)(s.default,{style:x.list,data:T,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return(0,h.jsx)(u.default,{style:x.item,children:(0,h.jsxs)(d.default,{style:x.itemText,children:[t.horario," \u2192 Dist: ",t.distancia," cm \u2014 Umid:"," ",t.umidade,"%"]})})}}),(0,h.jsx)(o.StatusBar,{style:"auto"})]})})}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,n,r,i)=>{if(!n){var o=1/0;for(f=0;f<e.length;f++){for(var[n,r,i]=e[f],l=!0,d=0;d<n.length;d++)(!1&i||o>=i)&&Object.keys(a.O).every(e=>a.O[e](n[d]))?n.splice(d--,1):(l=!1,i<o&&(o=i));if(l){e.splice(f--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var f=e.length;f>0&&e[f-1][2]>i;f--)e[f]=e[f-1];e[f]=[n,r,i]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,l,d]=n,u=0;if(o.some(t=>0!==e[t])){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(d)var f=d(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(f)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[192],()=>a(8357));n=a.O(n)})();
//# sourceMappingURL=main.669b0eae.js.map